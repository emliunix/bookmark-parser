# -*- coding: utf-8 -*-

from __future__ import print_function

from bmparser import *
from extractor import *
import json

testdata = """
<DT><H3 ADD_DATE="1441785317" LAST_MODIFIED="1456752269">Mozilla Firefox</H3>
    <DL><p>
        <DT><A HREF="https://www.mozilla.org/zh-CN/firefox/help/" ADD_DATE="1441785317" LAST_MODIFIED="1451147837" ICON_URI="http://www.mozilla.org/2005/made-up-favicon/1-1441785317254" ICON="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3gwMDAsTBZbkNwAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAABNElEQVQ4y8WSsU0DURBE3yyWIaAJaqAAN4DPSL6AlIACKIEOyJEgRsIgOOkiInJqgAKowNg7BHdn7MOksNl+zZ//dvbDf5cAiklp22BdVtXdeTEpDYDB9m1VzU6OJuVp2NdEQCaI96fH2YHG4+mDduKYNMYINTcjcGbXzQVDEAphG0k48zUsajIbnAiMIXThpW8EICE0RAK4dvoKg9NIcTiQ589otyHOZLnwqK5nLwBFUZ4igc3iM0d1ff8CMC6mZ6Ihiaqq3gi1aUAnArD00SW1fq5OLBg0ymYmSZsR2/t4e/rGyCLW0sbp3oq+yTYqVgytQWui2FS7XYF7GFprY921T4CNQt8zr47dNzCkIX7y/jBtH+v+RGMQrc828W8pApnZbmEVQp/Ae7BlOy2ttib81/UFc+WRWEbjckIAAAAASUVORK5CYII=">帮助和教程</A>
        <DT><A HREF="https://www.mozilla.org/zh-CN/firefox/customize/" ADD_DATE="1441785317" LAST_MODIFIED="1451147840" ICON_URI="http://www.mozilla.org/2005/made-up-favicon/2-1441785317257" ICON="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3gwMDAsTBZbkNwAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAABNElEQVQ4y8WSsU0DURBE3yyWIaAJaqAAN4DPSL6AlIACKIEOyJEgRsIgOOkiInJqgAKowNg7BHdn7MOksNl+zZ//dvbDf5cAiklp22BdVtXdeTEpDYDB9m1VzU6OJuVp2NdEQCaI96fH2YHG4+mDduKYNMYINTcjcGbXzQVDEAphG0k48zUsajIbnAiMIXThpW8EICE0RAK4dvoKg9NIcTiQ589otyHOZLnwqK5nLwBFUZ4igc3iM0d1ff8CMC6mZ6Ihiaqq3gi1aUAnArD00SW1fq5OLBg0ymYmSZsR2/t4e/rGyCLW0sbp3oq+yTYqVgytQWui2FS7XYF7GFprY921T4CNQt8zr47dNzCkIX7y/jBtH+v+RGMQrc828W8pApnZbmEVQp/Ae7BlOy2ttib81/UFc+WRWEbjckIAAAAASUVORK5CYII=">自定义 Firefox</A>
        <DT><A HREF="https://www.mozilla.org/zh-CN/contribute/" ADD_DATE="1441785317" LAST_MODIFIED="1451147838" ICON_URI="http://www.mozilla.org/2005/made-up-favicon/3-1441785317262" ICON="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3gwMDAsTBZbkNwAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAABNElEQVQ4y8WSsU0DURBE3yyWIaAJaqAAN4DPSL6AlIACKIEOyJEgRsIgOOkiInJqgAKowNg7BHdn7MOksNl+zZ//dvbDf5cAiklp22BdVtXdeTEpDYDB9m1VzU6OJuVp2NdEQCaI96fH2YHG4+mDduKYNMYINTcjcGbXzQVDEAphG0k48zUsajIbnAiMIXThpW8EICE0RAK4dvoKg9NIcTiQ589otyHOZLnwqK5nLwBFUZ4igc3iM0d1ff8CMC6mZ6Ihiaqq3gi1aUAnArD00SW1fq5OLBg0ymYmSZsR2/t4e/rGyCLW0sbp3oq+yTYqVgytQWui2FS7XYF7GFprY921T4CNQt8zr47dNzCkIX7y/jBtH+v+RGMQrc828W8pApnZbmEVQp/Ae7BlOy2ttib81/UFc+WRWEbjckIAAAAASUVORK5CYII=">加入进来</A>
        <DT><A HREF="https://www.mozilla.org/zh-CN/about/" ADD_DATE="1441785317" LAST_MODIFIED="1451147840" ICON_URI="http://www.mozilla.org/2005/made-up-favicon/4-1441785317264" ICON="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3gwMDAsTBZbkNwAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAABNElEQVQ4y8WSsU0DURBE3yyWIaAJaqAAN4DPSL6AlIACKIEOyJEgRsIgOOkiInJqgAKowNg7BHdn7MOksNl+zZ//dvbDf5cAiklp22BdVtXdeTEpDYDB9m1VzU6OJuVp2NdEQCaI96fH2YHG4+mDduKYNMYINTcjcGbXzQVDEAphG0k48zUsajIbnAiMIXThpW8EICE0RAK4dvoKg9NIcTiQ589otyHOZLnwqK5nLwBFUZ4igc3iM0d1ff8CMC6mZ6Ihiaqq3gi1aUAnArD00SW1fq5OLBg0ymYmSZsR2/t4e/rGyCLW0sbp3oq+yTYqVgytQWui2FS7XYF7GFprY921T4CNQt8zr47dNzCkIX7y/jBtH+v+RGMQrc828W8pApnZbmEVQp/Ae7BlOy2ttib81/UFc+WRWEbjckIAAAAASUVORK5CYII=">关于我们</A>
        <DT><A HREF="https://www.mozilla.org/en-US/firefox/help/" ADD_DATE="1441785378" LAST_MODIFIED="1451147834">Help and Tutorials</A>
        <DT><A HREF="https://www.mozilla.org/en-US/firefox/customize/" ADD_DATE="1441785378" LAST_MODIFIED="1451147834">Customize Firefox</A>
        <DT><A HREF="https://www.mozilla.org/en-US/contribute/" ADD_DATE="1441785378" LAST_MODIFIED="1451147834">Get Involved</A>
        <DT><H3 ADD_DATE="1441785317" LAST_MODIFIED="1456752269">Mozilla Firefox</H3>
        <DL><p>
            <DT><A HREF="https://www.mozilla.org/zh-CN/firefox/help/" ADD_DATE="1441785317" LAST_MODIFIED="1451147837" ICON_URI="http://www.mozilla.org/2005/made-up-favicon/1-1441785317254" ICON="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3gwMDAsTBZbkNwAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAABNElEQVQ4y8WSsU0DURBE3yyWIaAJaqAAN4DPSL6AlIACKIEOyJEgRsIgOOkiInJqgAKowNg7BHdn7MOksNl+zZ//dvbDf5cAiklp22BdVtXdeTEpDYDB9m1VzU6OJuVp2NdEQCaI96fH2YHG4+mDduKYNMYINTcjcGbXzQVDEAphG0k48zUsajIbnAiMIXThpW8EICE0RAK4dvoKg9NIcTiQ589otyHOZLnwqK5nLwBFUZ4igc3iM0d1ff8CMC6mZ6Ihiaqq3gi1aUAnArD00SW1fq5OLBg0ymYmSZsR2/t4e/rGyCLW0sbp3oq+yTYqVgytQWui2FS7XYF7GFprY921T4CNQt8zr47dNzCkIX7y/jBtH+v+RGMQrc828W8pApnZbmEVQp/Ae7BlOy2ttib81/UFc+WRWEbjckIAAAAASUVORK5CYII=">帮助和教程</A>
            <DD>测试描述
            <DT><A HREF="https://www.mozilla.org/zh-CN/firefox/customize/" ADD_DATE="1441785317" LAST_MODIFIED="1451147840" ICON_URI="http://www.mozilla.org/2005/made-up-favicon/2-1441785317257" ICON="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3gwMDAsTBZbkNwAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAABNElEQVQ4y8WSsU0DURBE3yyWIaAJaqAAN4DPSL6AlIACKIEOyJEgRsIgOOkiInJqgAKowNg7BHdn7MOksNl+zZ//dvbDf5cAiklp22BdVtXdeTEpDYDB9m1VzU6OJuVp2NdEQCaI96fH2YHG4+mDduKYNMYINTcjcGbXzQVDEAphG0k48zUsajIbnAiMIXThpW8EICE0RAK4dvoKg9NIcTiQ589otyHOZLnwqK5nLwBFUZ4igc3iM0d1ff8CMC6mZ6Ihiaqq3gi1aUAnArD00SW1fq5OLBg0ymYmSZsR2/t4e/rGyCLW0sbp3oq+yTYqVgytQWui2FS7XYF7GFprY921T4CNQt8zr47dNzCkIX7y/jBtH+v+RGMQrc828W8pApnZbmEVQp/Ae7BlOy2ttib81/UFc+WRWEbjckIAAAAASUVORK5CYII=">自定义 Firefox</A>
            <DT><A HREF="https://www.mozilla.org/zh-CN/contribute/" ADD_DATE="1441785317" LAST_MODIFIED="1451147838" ICON_URI="http://www.mozilla.org/2005/made-up-favicon/3-1441785317262" ICON="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3gwMDAsTBZbkNwAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAABNElEQVQ4y8WSsU0DURBE3yyWIaAJaqAAN4DPSL6AlIACKIEOyJEgRsIgOOkiInJqgAKowNg7BHdn7MOksNl+zZ//dvbDf5cAiklp22BdVtXdeTEpDYDB9m1VzU6OJuVp2NdEQCaI96fH2YHG4+mDduKYNMYINTcjcGbXzQVDEAphG0k48zUsajIbnAiMIXThpW8EICE0RAK4dvoKg9NIcTiQ589otyHOZLnwqK5nLwBFUZ4igc3iM0d1ff8CMC6mZ6Ihiaqq3gi1aUAnArD00SW1fq5OLBg0ymYmSZsR2/t4e/rGyCLW0sbp3oq+yTYqVgytQWui2FS7XYF7GFprY921T4CNQt8zr47dNzCkIX7y/jBtH+v+RGMQrc828W8pApnZbmEVQp/Ae7BlOy2ttib81/UFc+WRWEbjckIAAAAASUVORK5CYII=">加入进来</A>
            <DT><A HREF="https://www.mozilla.org/zh-CN/about/" ADD_DATE="1441785317" LAST_MODIFIED="1451147840" ICON_URI="http://www.mozilla.org/2005/made-up-favicon/4-1441785317264" ICON="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3gwMDAsTBZbkNwAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAABNElEQVQ4y8WSsU0DURBE3yyWIaAJaqAAN4DPSL6AlIACKIEOyJEgRsIgOOkiInJqgAKowNg7BHdn7MOksNl+zZ//dvbDf5cAiklp22BdVtXdeTEpDYDB9m1VzU6OJuVp2NdEQCaI96fH2YHG4+mDduKYNMYINTcjcGbXzQVDEAphG0k48zUsajIbnAiMIXThpW8EICE0RAK4dvoKg9NIcTiQ589otyHOZLnwqK5nLwBFUZ4igc3iM0d1ff8CMC6mZ6Ihiaqq3gi1aUAnArD00SW1fq5OLBg0ymYmSZsR2/t4e/rGyCLW0sbp3oq+yTYqVgytQWui2FS7XYF7GFprY921T4CNQt8zr47dNzCkIX7y/jBtH+v+RGMQrc828W8pApnZbmEVQp/Ae7BlOy2ttib81/UFc+WRWEbjckIAAAAASUVORK5CYII=">关于我们</A>
            <DT><A HREF="https://www.mozilla.org/en-US/firefox/help/" ADD_DATE="1441785378" LAST_MODIFIED="1451147834">Help and Tutorials</A>
            <DT><A HREF="https://www.mozilla.org/en-US/firefox/customize/" ADD_DATE="1441785378" LAST_MODIFIED="1451147834">Customize Firefox</A>
            <DT><A HREF="https://www.mozilla.org/en-US/contribute/" ADD_DATE="1441785378" LAST_MODIFIED="1451147834">Get Involved</A>
            <DT><A HREF="https://www.mozilla.org/en-US/about/" ADD_DATE="1441785378" LAST_MODIFIED="1451147835" ICON_URI="https://mozorg.cdn.mozilla.net/media/img/favicon.52506929be4c.ico" ICON="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA9klEQVQ4jc1SsVFDMQzVKizCALnoyRfJA1CwRzag5y7UdFmEHTJABvhHJQpb9rfjgg7c6PwkPz09mehfHIg5Q53Z3uIOMQfMmfWTiOgo9gKoI2UH1CF6IyIiZr0WsJAA5lFY7uoM/UbNScoOqRH6RUfoayTbo2RnZvsonYqSGi+AvZcm5iLZiZmfAmCoHw6n5zZaJQVswLtS81JYZTHU996w5HvkBs/QVTUTJWWXlEcC2DZ02hGEis4oq8K8LfHYxEBQHZ5G2KLbHhdZEVSz5hFkgbdVd4K+xl95UEmb4gBWCoZOE0EbrX/PmUD7h5lHSPlB8d+cHx9d8KB0k0puAAAAAElFTkSuQmCC">About Us</A>
        </DL><p>
        <DT><A HREF="https://www.mozilla.org/en-US/about/" ADD_DATE="1441785378" LAST_MODIFIED="1451147835" ICON_URI="https://mozorg.cdn.mozilla.net/media/img/favicon.52506929be4c.ico" ICON="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA9klEQVQ4jc1SsVFDMQzVKizCALnoyRfJA1CwRzag5y7UdFmEHTJABvhHJQpb9rfjgg7c6PwkPz09mehfHIg5Q53Z3uIOMQfMmfWTiOgo9gKoI2UH1CF6IyIiZr0WsJAA5lFY7uoM/UbNScoOqRH6RUfoayTbo2RnZvsonYqSGi+AvZcm5iLZiZmfAmCoHw6n5zZaJQVswLtS81JYZTHU996w5HvkBs/QVTUTJWWXlEcC2DZ02hGEis4oq8K8LfHYxEBQHZ5G2KLbHhdZEVSz5hFkgbdVd4K+xl95UEmb4gBWCoZOE0EbrX/PmUD7h5lHSPlB8d+cHx9d8KB0k0puAAAAAElFTkSuQmCC">About Us</A>
    </DL><p>"""
    
print(json.dumps(extractFolder(TokenIter(tokenize(testdata)))))